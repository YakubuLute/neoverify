// Document List Component Styles

.document-list-container {
  @apply w-full bg-gray-50;

  /* ---------- Header Section ---------- */
  .document-list-header {
    @apply bg-white border-b border-gray-200;

    .header-content {
      @apply max-w-7xl mx-auto px-4 md:px-6 py-4
             flex flex-col md:flex-row items-start md:items-center justify-between gap-4;
    }

    .title-section {
      .page-title {
        @apply text-2xl md:text-3xl font-semibold text-gray-900 mb-1;
      }

      .page-subtitle {
        @apply text-sm text-gray-500 font-normal;
      }
    }

    .header-actions {
      @apply flex items-center space-x-2;

      .upload-btn {
        ::ng-deep .p-button {
          @apply bg-cyan-500 hover:bg-cyan-600 border-cyan-500 hover:border-cyan-600 text-white;
        }
      }

      ::ng-deep .p-button.p-button-text {
        @apply text-gray-500 hover:text-gray-900 hover:bg-gray-100;

        &.active {
          @apply text-cyan-700 bg-cyan-50;
        }
      }
    }
  }

  /* ---------- Search & Filters Section ---------- */
  .search-filters-section {
    @apply bg-white border-b border-gray-200;

    /* Reach into <app-document-search> despite view encapsulation */
    ::ng-deep {
      .search-container {
        @apply max-w-7xl mx-auto px-4 md:px-6 pt-4 pb-2;

        .search-input {
          @apply w-full;

          .search-field {
            @apply w-full bg-white border border-gray-300 text-gray-900
                   placeholder-gray-400 rounded-lg px-3 py-2
                   focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/15;
          }

          i {
            @apply text-gray-400;
          }
        }
      }

      .filters-panel {
        @apply max-w-7xl mx-auto px-4 md:px-6 pb-4;

        .filters-content {
          @apply bg-gray-50 rounded-xl border border-gray-200 p-4 md:p-6
                 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4;

          .filter-group {
            @apply space-y-2;

            label {
              @apply block text-sm font-medium text-gray-700;
            }

            .p-multiselect,
            .p-datepicker,
            .p-dropdown {
              @apply w-full;

              .p-multiselect-label,
              .p-datepicker-input,
              .p-dropdown-label {
                @apply bg-white border border-gray-300 text-gray-900 rounded-lg;
              }

              &:not(.p-disabled):hover {
                @apply border-gray-400;
              }

              &.p-focus {
                @apply border-cyan-500 ring-2 ring-cyan-500/20;
              }
            }
          }

          .filter-actions {
            @apply col-span-full flex justify-end pt-4 border-t border-gray-200;

            .p-button.p-button-text {
              @apply text-gray-500 hover:text-gray-900;
            }
          }
        }
      }
    }
  }
}

/* ---------- Bulk Actions / States / Content ---------- */

/* Bulk Actions Bar (sibling of .document-list-container) */
.bulk-actions-bar {
  @apply max-w-7xl mx-auto mt-4 px-4 md:px-6 py-3
         bg-cyan-50 border border-cyan-100 rounded-xl shadow-sm
         flex flex-col md:flex-row items-start md:items-center justify-between gap-3;

  .selection-info {
    @apply text-cyan-800 font-medium text-sm;
  }

  .bulk-actions {
    @apply flex items-center flex-wrap gap-2;

    ::ng-deep .p-button.p-button-text {
      @apply text-gray-600 hover:text-gray-900 hover:bg-gray-100;

      &.p-button-danger {
        @apply text-red-600 hover:text-red-700 hover:bg-red-50;
      }
    }
  }
}

/* Loading State */
.loading-container {
  @apply flex items-center justify-center py-16;

  .loading-content {
    @apply text-center text-sm text-gray-600;

    ::ng-deep .p-progress-spinner {
      @apply mb-4;

      .p-progress-spinner-circle {
        @apply stroke-cyan-500;
      }
    }
  }
}

/* Error State */
.error-container {
  @apply flex items-center justify-center py-16 px-4;

  .error-content {
    @apply text-center max-w-md bg-white border border-red-100 rounded-2xl shadow-sm p-6;

    .error-icon {
      @apply text-5xl text-red-500 mb-3;
    }

    h3 {
      @apply text-lg font-semibold text-gray-900 mb-2;
    }

    p {
      @apply text-sm text-gray-600 mb-4;
    }

    ::ng-deep .p-button {
      @apply bg-cyan-500 hover:bg-cyan-600 border-cyan-500 text-white;
    }
  }
}

/* Empty State */
.empty-container {
  @apply flex items-center justify-center py-16 px-4;

  .empty-content {
    @apply text-center max-w-md bg-white border border-gray-200 rounded-2xl shadow-sm p-6;

    .empty-icon {
      @apply text-5xl text-gray-400 mb-3;
    }

    h3 {
      @apply text-lg font-semibold text-gray-900 mb-2;
    }

    p {
      @apply text-sm text-gray-600 mb-4;
    }

    ::ng-deep .p-button {
      @apply bg-cyan-500 hover:bg-cyan-600 border-cyan-500 text-white;
    }
  }
}

/* ---------- Documents Content (grid/list/pagination wrapper) ---------- */

.documents-content {
  @apply max-w-7xl mx-auto px-4 md:px-6 py-6;

  /* List Header */
  .list-header {
    @apply flex flex-col md:flex-row items-start md:items-center justify-between gap-4
           mb-6 pb-4 border-b border-gray-200;

    .list-header-left {
      @apply flex items-center flex-wrap gap-4;
    }

    .selection-controls {
      ::ng-deep .p-checkbox {
        .p-checkbox-box {
          @apply bg-white border border-gray-300 rounded;

          &.p-highlight {
            @apply bg-cyan-500 border-cyan-500;
          }
        }

        .p-checkbox-label {
          @apply text-sm text-gray-700 ml-2;
        }
      }
    }

    .results-summary {
      @apply flex items-center flex-wrap gap-2 text-sm text-gray-500;

      .results-count {
        @apply font-medium text-gray-700;
      }

      .filters-pill {
        @apply inline-flex items-center px-3 py-1 rounded-full
               bg-cyan-50 text-cyan-700 text-xs font-semibold;
      }
    }

    .sort-controls {
      @apply flex items-center gap-3;

      ::ng-deep .p-select,
      ::ng-deep .p-dropdown {
        .p-select-label,
        .p-dropdown-label {
          @apply bg-white border border-gray-300 text-gray-900 rounded-lg;
        }

        &:not(.p-disabled):hover {
          @apply border-gray-400;
        }

        &.p-focus {
          @apply border-cyan-500 ring-2 ring-cyan-500/20;
        }
      }

      ::ng-deep .p-button.p-button-text {
        @apply text-gray-500 hover:text-gray-900 hover:bg-gray-100;
      }
    }
  }

  /* Grid View */
  .documents-grid {
    @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6;
  }

  /* Virtual Scroll Grid */
  .documents-grid-virtual {
    @apply relative overflow-auto rounded-xl border border-gray-200 bg-white;
    height: 600px;

    .virtual-scroll-content {
      @apply relative w-full;
    }

    .virtual-scroll-viewport {
      @apply relative w-full
             grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 p-4;
    }

    .document-card-wrapper {
      @apply flex items-stretch;

      app-document-card {
        @apply w-full;
      }
    }

    &::-webkit-scrollbar {
      @apply w-2;
    }

    &::-webkit-scrollbar-track {
      @apply bg-gray-100 rounded-full;
    }

    &::-webkit-scrollbar-thumb {
      @apply bg-gray-300 rounded-full hover:bg-gray-400;
    }
  }

  /* Table (List) View */
  .documents-table {
    @apply bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm;

    ::ng-deep .p-datatable {
      .p-datatable-header {
        @apply bg-white border-b border-gray-200;
      }

      .p-datatable-thead > tr > th {
        @apply bg-gray-50 border-b border-gray-200 text-gray-600 font-medium
               text-xs uppercase tracking-wide;
      }

      .p-datatable-tbody > tr {
        @apply bg-white border-b border-gray-100 hover:bg-gray-50;

        > td {
          @apply border-none text-sm text-gray-700;
        }
      }

      .p-checkbox .p-checkbox-box {
        @apply bg-white border border-gray-300 rounded;

        &.p-highlight {
          @apply bg-cyan-500 border-cyan-500;
        }
      }
    }

    .document-info {
      @apply flex items-center space-x-3;

      .document-thumbnail {
        @apply w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden;

        img {
          @apply w-full h-full object-cover;
        }

        .document-icon {
          @apply text-gray-400;
        }
      }

      .document-details {
        .document-title {
          @apply font-medium text-gray-900;
        }

        .document-filename {
          @apply text-xs text-gray-500;
        }
      }
    }

    .action-buttons {
      @apply flex items-center gap-1;

      ::ng-deep .p-button.p-button-text {
        @apply text-gray-500 hover:text-gray-900 hover:bg-gray-100;
      }
    }
  }

  /* Pagination */
  .pagination-container {
    @apply mt-8 flex justify-center;

    ::ng-deep .p-paginator {
      @apply bg-white border border-gray-200 rounded-lg shadow-sm px-3 py-2;

      .p-paginator-pages .p-paginator-page {
        @apply text-gray-600 hover:bg-gray-100 rounded;

        &.p-highlight {
          @apply bg-cyan-500 text-white;
        }
      }

      .p-paginator-prev,
      .p-paginator-next {
        @apply text-gray-500 hover:bg-gray-100 rounded;
      }

      .p-paginator-current {
        @apply text-xs text-gray-500;
      }
    }
  }
}

/* ---------- Responsive Tweaks ---------- */

@media (max-width: 768px) {
  .document-list-container {
    .document-list-header .header-content {
      @apply flex-col items-start gap-3;
    }
  }

  .bulk-actions-bar {
    @apply flex-col items-start;
  }

  .documents-content {
    .list-header {
      @apply flex-col items-start;
    }
  }
}

/* ---------- PrimeNG Overrides (light theme for this page) ---------- */

:host {
  ::ng-deep .p-card,
  ::ng-deep .p-panel,
  ::ng-deep .p-dialog {
    @apply bg-white border border-gray-200 rounded-xl shadow-lg;
  }

  ::ng-deep .p-button:not(.p-button-text) {
    @apply bg-cyan-500 border-cyan-500 text-white hover:bg-cyan-600 hover:border-cyan-600;

    &.p-button-secondary {
      @apply bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200;
    }
  }

  ::ng-deep .p-inputtext,
  ::ng-deep .p-multiselect,
  ::ng-deep .p-dropdown {
    @apply bg-white border border-gray-300 text-gray-900 rounded-lg;

    &:enabled:focus {
      @apply border-cyan-500 ring-2 ring-cyan-500/20;
    }
  }
}

// Search & Filters Section
.search-filters-section {
  @apply bg-white border-b border-gray-200;

  /* Outer padding / alignment for the whole search component */
  ::ng-deep app-document-search {
    @apply block max-w-7xl mx-auto px-4 md:px-6 py-4;
  }

  /* --- SEARCH INPUT ---------------------------------------------------- */

  /* PrimeNG "icon left" wrapper */
  ::ng-deep app-document-search .p-input-icon-left,
  ::ng-deep app-document-search .p-inputgroup {
    @apply w-full;
  }

  /* Actual text input (covers pInputText + native input) */
  ::ng-deep app-document-search .p-inputtext,
  ::ng-deep app-document-search input[type='text'],
  ::ng-deep app-document-search input[type='search'] {
    @apply w-full rounded-xl text-sm;
    @apply px-4 py-2;
    @apply placeholder-gray-400;
    background-color: #ffffff !important;
    border: 1px solid #d1d5db !important; /* gray-300 */
    color: #111827 !important;            /* gray-900 */

    &:enabled:focus {
      @apply outline-none;
      border-color: #06b6d4 !important;   /* cyan-500 */
      box-shadow: 0 0 0 2px rgba(34, 211, 238, 0.2);
    }
  }

  /* Search icon alignment */
  ::ng-deep app-document-search .p-input-icon-left > i,
  ::ng-deep app-document-search .p-input-icon-left > .pi {
    @apply text-gray-400;
    left: 0.9rem;
    top: 50%;
    transform: translateY(-50%);
  }

  /* --- QUICK FILTER TABS (All documents, Verified, etc.) --------------- */

  /* Container that holds the tabs – this covers most PrimeNG variants */
  ::ng-deep app-document-search .p-selectbutton,
  ::ng-deep app-document-search .p-buttonset,
  ::ng-deep app-document-search .p-tabview-nav,
  ::ng-deep app-document-search .filters-tabs,
  ::ng-deep app-document-search .tabs-row {
    @apply mt-3 flex flex-wrap gap-2 bg-transparent border-none p-0;
  }

  /* Individual filter “chips” */
  ::ng-deep app-document-search .p-button {
    @apply text-xs font-medium rounded-full px-3 py-1 border-none;
    background-color: #f3f4f6 !important; /* gray-100 */
    color: #6b7280 !important;            /* gray-500 */
  }

  /* Active tab */
  ::ng-deep app-document-search .p-button.p-highlight,
  ::ng-deep app-document-search .p-button.p-button-info {
    background-color: #ecfeff !important; /* cyan-50 */
    color: #0e7490 !important;            /* cyan-700 */
    box-shadow: 0 0 0 1px #a5f3fc;
  }
}
