// Document Card Component Styles
.document-card {
  @apply relative bg-white rounded-2xl border border-gray-200
         shadow-sm hover:shadow-md hover:-translate-y-0.5
         transition-all duration-200 cursor-pointer overflow-hidden
         flex flex-col h-full;

  &.selected {
    @apply border-cyan-500 ring-2 ring-cyan-500/20 bg-cyan-50;
  }

  &.expiring-soon {
    @apply border-amber-400 bg-amber-50/40;
  }

  /* Hover effects */
  &:hover {
    .selection-checkbox {
      @apply opacity-100;
    }

    .document-title {
      @apply text-cyan-700;
    }

    .menu-trigger {
      @apply opacity-100;
    }

    .card-actions {
      @apply opacity-100;
    }

    .hover-overlay {
      @apply opacity-100;
    }
  }

  /* Selection Checkbox */
  .selection-checkbox {
    @apply absolute top-3 left-3 z-20 opacity-0 transition-opacity;

    ::ng-deep .p-checkbox {
      .p-checkbox-box {
        @apply bg-white border border-gray-300 rounded shadow-sm;

        &.p-highlight {
          @apply bg-cyan-500 border-cyan-500;
        }
      }
    }
  }

  &.selected .selection-checkbox {
    @apply opacity-100;
  }

  /* Document Thumbnail */
  .document-thumbnail {
    @apply relative h-40 bg-slate-900 flex items-center justify-center overflow-hidden
           border-b border-gray-200;

    .thumbnail-image {
      @apply w-full h-full object-cover;
    }

    .thumbnail-placeholder {
      @apply flex flex-col items-center justify-center text-gray-100 bg-slate-800 w-full h-full;

      .document-icon {
        @apply text-4xl mb-2;
      }

      .file-extension {
        @apply text-xs font-semibold uppercase
               bg-black/40 text-gray-100 px-2 py-1 rounded-md tracking-wide;
      }
    }

    /* Document Type Badge */
    .document-type-badge {
      @apply absolute top-3 left-3;

      .type-tag {
        ::ng-deep .p-tag {
          @apply bg-emerald-100 text-emerald-800 border-none
                 text-[11px] font-semibold uppercase tracking-wide
                 px-3 py-1 rounded-full shadow-sm;
        }
      }
    }

    /* Verification Status Indicator */
    .verification-indicator {
      @apply absolute bottom-3 right-3;

      .verification-icon {
        @apply text-lg p-2 rounded-full bg-white/90 shadow-md;

        &.verified {
          @apply text-emerald-600;
        }

        &.pending {
          @apply text-amber-500;
        }

        &.failed {
          @apply text-rose-500;
        }
      }
    }
  }

  /* Document Content */
  .document-content {
    @apply flex-1 px-4 py-4 md:px-5 md:py-4 space-y-3 bg-white;

    /* Header */
    .document-header {
      @apply flex items-start justify-between gap-2;

      .document-title {
        @apply text-base md:text-lg font-semibold text-gray-900
               leading-snug flex-1 mr-2 line-clamp-2 transition-colors;
      }

      .quick-actions-menu {
        @apply relative;

        .menu-trigger {
          @apply opacity-0 transition-opacity;

          ::ng-deep .p-button {
            @apply text-gray-400 hover:text-gray-900 hover:bg-gray-100 rounded-full;
          }
        }

        &.active .menu-trigger {
          @apply opacity-100;

          ::ng-deep .p-button {
            @apply text-cyan-700 bg-cyan-50;
          }
        }

        .actions-dropdown {
          @apply absolute top-full right-0 mt-1 w-52 z-30
                 bg-white rounded-xl border border-gray-200
                 shadow-lg shadow-black/10 py-2;

          .action-item {
            @apply w-full flex items-center gap-3 px-4 py-2 text-left
                   text-sm text-gray-700 hover:text-gray-900 hover:bg-gray-50
                   transition-colors;

            &.danger {
              @apply text-rose-600 hover:text-rose-700 hover:bg-rose-50;
            }

            i {
              @apply text-sm text-gray-400;
            }
          }

          .action-divider {
            @apply border-t border-gray-200 my-1;
          }
        }
      }
    }

    /* Description */
    .document-description {
      @apply text-sm text-gray-500 leading-relaxed line-clamp-2;
    }

    /* Metadata */
    .document-metadata {
      @apply space-y-1.5;

      .metadata-item {
        @apply flex items-center gap-2 text-xs text-gray-500;

        &.expiring {
          @apply text-amber-600;
        }

        .metadata-icon {
          @apply text-sm text-gray-400;
        }

        .metadata-text {
          @apply truncate;
        }
      }
    }

    /* Tags */
    .document-tags {
      @apply flex flex-wrap items-center gap-1.5;

      .document-tag {
        ::ng-deep .p-tag {
          @apply bg-gray-100 text-gray-800 border-none text-[11px] font-medium px-2.5 py-1 rounded-full;
        }
      }

      .more-tags {
        @apply text-[11px] text-gray-500 font-medium;
      }
    }

    /* Verification Progress */
    .verification-progress-section {
      @apply pt-1;
    }
  }

  /* Footer */
  .document-footer {
    @apply px-4 pb-4 pt-3 md:px-5 md:pb-4 md:pt-3
           flex items-center justify-between border-t border-gray-100 bg-white;

    .status-badges {
      @apply flex items-center gap-2;

      ::ng-deep app-status-badge {
        @apply text-xs;
      }
    }

    .card-actions {
      @apply flex items-center gap-1 opacity-0 transition-opacity;

      .action-btn {
        ::ng-deep .p-button {
          @apply text-gray-500 hover:text-gray-900 hover:bg-gray-100 rounded-full;
        }
      }
    }
  }

  /* Hover Overlay (preview state) */
  .hover-overlay {
    @apply absolute inset-0 bg-slate-900/65 backdrop-blur-sm
           flex items-center justify-center opacity-0
           transition-opacity duration-300 pointer-events-none;

    .overlay-content {
      @apply pointer-events-auto;

      .overlay-btn {
        ::ng-deep .p-button {
          @apply bg-white text-gray-900 border-none px-4 py-2
                 hover:bg-gray-100 shadow-lg shadow-black/20;
        }
      }
    }
  }

  /* Mobile tweaks */
  @media (max-width: 768px) {
    .document-thumbnail {
      @apply h-32;
    }

    .document-content {
      @apply px-3 py-3 space-y-2;

      .document-header .document-title {
        @apply text-base;
      }
    }

    .selection-checkbox {
      @apply opacity-100;
    }

    .card-actions {
      @apply opacity-100;
    }
  }
}

/* Utility: 2-line clamp */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
